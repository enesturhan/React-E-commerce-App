{"ast":null,"code":"export const CartService = {};\n\nCartService.remove = id => {\n  const cartJsonString = localStorage.getItem(\"cartState\");\n\n  if (cartJsonString != null) {\n    const cartJsonObject = JSON.parse(cartJsonString);\n    const newCartItems = cartJsonObject.cartItems.filter(x => x.productId != id);\n    let _total = 0;\n    newCartItems.forEach(cartItem => {\n      _total += Number(cartItem.price) * Number(cartItem.quantity);\n    });\n    const cart = {\n      total: _total,\n      cartItems: [...newCartItems]\n    };\n    localStorage.removeItem(\"cartState\");\n    localStorage.setItem(\"cartState\", JSON.stringify(cart));\n    return cart;\n  }\n\n  return {\n    total: 0,\n    cartItems: []\n  };\n};\n\nCartService.increaseCartItem = productId => {\n  const cartJsonString = localStorage.getItem(\"cartState\");\n  if (cartJsonString == null) return CartService.getCart();\n  const cartJsonObject = JSON.parse(cartJsonString);\n  const findedCartItem = cartJsonObject.cartItems.find(x => x.productId === productId);\n  if (findedCartItem === undefined) return CartService.getCart();\n  let _total = 0;\n  findedCartItem.quantity += 1;\n\n  for (const item of cartJsonObject.cartItems) {\n    _total += Number(item.price) * Number(item.quantity);\n  }\n\n  const _cart = {\n    total: _total,\n    cartItems: cartJsonObject.cartItems\n  };\n  localStorage.removeItem(\"cartState\");\n  localStorage.setItem(\"cartState\", JSON.stringify(_cart));\n  return _cart;\n};\n\nCartService.getCart = () => {\n  if (localStorage.getItem(\"cartState\") != undefined) return JSON.parse(localStorage.getItem(\"cartState\"));\n  return {\n    total: 0,\n    cartItems: []\n  };\n};\n\nCartService.clearCart = () => {\n  localStorage.removeItem(\"cartState\");\n};\n\nCartService.addToCart = cartItem => {\n  const cartJsonString = localStorage.getItem(\"cartState\"); // jsonString Json.Parse ile deserialize ettik. jsonObject oldu\n\n  console.log(\"cartJsonString\", cartJsonString);\n\n  if (cartJsonString != null) {\n    const cartJsonObject = JSON.parse(cartJsonString);\n    console.log(\"cartJsonObject\", cartJsonObject);\n    const existingCartItem = cartJsonObject.cartItems.find(x => x.productId == cartItem.productId);\n    console.log(\"existingCartItem\", existingCartItem);\n\n    if (existingCartItem != undefined) {\n      existingCartItem.quantity += 1;\n      let _total = 0;\n\n      for (const item of cartJsonObject.cartItems) {\n        _total += Number(item.price) * Number(item.quantity);\n      }\n\n      const cart = {\n        cartItems: cartJsonObject.cartItems,\n        total: _total\n      };\n      localStorage.removeItem(\"cartState\"); // eski hali\n\n      localStorage.setItem(\"cartState\", JSON.stringify(cart)); // güncel hali\n\n      return cart;\n    } else {\n      let cartItems = [cartItem, ...cartJsonObject.cartItems];\n      let _total = 0;\n\n      for (const item of cartItems) {\n        _total += Number(item.price) * Number(item.quantity);\n      }\n\n      const cart = {\n        cartItems: [...cartItems],\n        total: _total\n      };\n      localStorage.removeItem(\"cartState\"); // eski hali\n\n      localStorage.setItem(\"cartState\", JSON.stringify(cart)); // güncel hali\n\n      return cart;\n    }\n  } else {\n    const cart = {\n      cartItems: [cartItem],\n      total: cartItem.quantity * cartItem.price\n    };\n    localStorage.removeItem(\"cartState\"); // eski hali\n\n    localStorage.setItem(\"cartState\", JSON.stringify(cart));\n    return cart;\n  }\n};\n\nCartService.decreaseCartItem = productId => {\n  const cartJsonString = localStorage.getItem(\"cartState\");\n  if (cartJsonString == null) return CartService.getCart();\n  const cartJsonObject = JSON.parse(cartJsonString);\n  const findedCartItem = cartJsonObject.cartItems.find(x => x.productId === productId);\n  if (findedCartItem === undefined) return CartService.getCart();\n  let _total = 0;\n\n  if (findedCartItem.quantity == 1) {\n    return CartService.getCart();\n  }\n\n  findedCartItem.quantity -= 1;\n\n  for (const item of cartJsonObject.cartItems) {\n    _total += Number(item.price) * Number(item.quantity);\n  }\n\n  const _cart = {\n    total: _total,\n    cartItems: cartJsonObject.cartItems\n  };\n  localStorage.removeItem(\"cartState\");\n  localStorage.setItem(\"cartState\", JSON.stringify(_cart));\n  return _cart;\n};","map":{"version":3,"sources":["C:/Users/TULPAR/Desktop/sa/src/services/cart.service.js"],"names":["CartService","remove","id","cartJsonString","localStorage","getItem","cartJsonObject","JSON","parse","newCartItems","cartItems","filter","x","productId","_total","forEach","cartItem","Number","price","quantity","cart","total","removeItem","setItem","stringify","increaseCartItem","getCart","findedCartItem","find","undefined","item","_cart","clearCart","addToCart","console","log","existingCartItem","decreaseCartItem"],"mappings":"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","sourcesContent":["export const CartService = {};\r\n\r\nCartService.remove = (id) => {\r\n  const cartJsonString = localStorage.getItem(\"cartState\");\r\n\r\n  if (cartJsonString != null) {\r\n    const cartJsonObject = JSON.parse(cartJsonString);\r\n\r\n    const newCartItems = cartJsonObject.cartItems.filter(\r\n      (x) => x.productId != id\r\n    );\r\n\r\n    let _total = 0;\r\n\r\n    newCartItems.forEach((cartItem) => {\r\n      _total += Number(cartItem.price) * Number(cartItem.quantity);\r\n    });\r\n\r\n    const cart = {\r\n      total: _total,\r\n      cartItems: [...newCartItems],\r\n    };\r\n\r\n    localStorage.removeItem(\"cartState\");\r\n    localStorage.setItem(\"cartState\", JSON.stringify(cart));\r\n\r\n    return cart;\r\n  }\r\n\r\n  return {\r\n    total: 0,\r\n    cartItems: [],\r\n  };\r\n};\r\n\r\nCartService.increaseCartItem = (productId) => {\r\n  const cartJsonString = localStorage.getItem(\"cartState\");\r\n\r\n  if (cartJsonString == null) return CartService.getCart();\r\n\r\n  const cartJsonObject = JSON.parse(cartJsonString);\r\n\r\n  const findedCartItem = cartJsonObject.cartItems.find(\r\n    (x) => x.productId === productId\r\n  );\r\n\r\n  if (findedCartItem === undefined) return CartService.getCart();\r\n\r\n  let _total = 0;\r\n\r\n  findedCartItem.quantity += 1;\r\n\r\n  for (const item of cartJsonObject.cartItems) {\r\n    _total += Number(item.price) * Number(item.quantity);\r\n  }\r\n  const _cart = {\r\n    total: _total,\r\n    cartItems: cartJsonObject.cartItems,\r\n  };\r\n\r\n  localStorage.removeItem(\"cartState\");\r\n  localStorage.setItem(\"cartState\", JSON.stringify(_cart));\r\n\r\n  return _cart;\r\n};\r\n\r\nCartService.getCart = () => {\r\n  if (localStorage.getItem(\"cartState\") != undefined)\r\n    return JSON.parse(localStorage.getItem(\"cartState\"));\r\n\r\n  return {\r\n    total: 0,\r\n    cartItems: [],\r\n  };\r\n};\r\n\r\nCartService.clearCart = () => {\r\n  localStorage.removeItem(\"cartState\");\r\n};\r\n\r\nCartService.addToCart = (cartItem) => {\r\n  const cartJsonString = localStorage.getItem(\"cartState\");\r\n\r\n  // jsonString Json.Parse ile deserialize ettik. jsonObject oldu\r\n\r\n  console.log(\"cartJsonString\", cartJsonString);\r\n\r\n  if (cartJsonString != null) {\r\n    const cartJsonObject = JSON.parse(cartJsonString);\r\n\r\n    console.log(\"cartJsonObject\", cartJsonObject);\r\n\r\n    const existingCartItem = cartJsonObject.cartItems.find(\r\n      (x) => x.productId == cartItem.productId\r\n    );\r\n\r\n    console.log(\"existingCartItem\", existingCartItem);\r\n\r\n    if (existingCartItem != undefined) {\r\n      existingCartItem.quantity += 1;\r\n\r\n      let _total = 0;\r\n\r\n      for (const item of cartJsonObject.cartItems) {\r\n        _total += Number(item.price) * Number(item.quantity);\r\n      }\r\n\r\n      const cart = {\r\n        cartItems: cartJsonObject.cartItems,\r\n        total: _total,\r\n      };\r\n\r\n      localStorage.removeItem(\"cartState\"); // eski hali\r\n      localStorage.setItem(\"cartState\", JSON.stringify(cart)); // güncel hali\r\n\r\n      return cart;\r\n    } else {\r\n      let cartItems = [cartItem, ...cartJsonObject.cartItems];\r\n\r\n      let _total = 0;\r\n\r\n      for (const item of cartItems) {\r\n        _total += Number(item.price) * Number(item.quantity);\r\n      }\r\n\r\n      const cart = {\r\n        cartItems: [...cartItems],\r\n        total: _total,\r\n      };\r\n\r\n      localStorage.removeItem(\"cartState\"); // eski hali\r\n      localStorage.setItem(\"cartState\", JSON.stringify(cart)); // güncel hali\r\n\r\n      return cart;\r\n    }\r\n  } else {\r\n    const cart = {\r\n      cartItems: [cartItem],\r\n      total: cartItem.quantity * cartItem.price,\r\n    };\r\n\r\n    localStorage.removeItem(\"cartState\"); // eski hali\r\n    localStorage.setItem(\"cartState\", JSON.stringify(cart));\r\n\r\n    return cart;\r\n  }\r\n};\r\n\r\nCartService.decreaseCartItem = (productId) => {\r\n  const cartJsonString = localStorage.getItem(\"cartState\");\r\n\r\n  if (cartJsonString == null) return CartService.getCart();\r\n\r\n  const cartJsonObject = JSON.parse(cartJsonString);\r\n\r\n  const findedCartItem = cartJsonObject.cartItems.find(\r\n    (x) => x.productId === productId\r\n  );\r\n\r\n  if (findedCartItem === undefined) return CartService.getCart();\r\n\r\n  let _total = 0;\r\n\r\n  if (findedCartItem.quantity == 1) {\r\n    return CartService.getCart();\r\n  }\r\n  findedCartItem.quantity -= 1;\r\n\r\n  for (const item of cartJsonObject.cartItems) {\r\n    _total += Number(item.price) * Number(item.quantity);\r\n  }\r\n  const _cart = {\r\n    total: _total,\r\n    cartItems: cartJsonObject.cartItems,\r\n  };\r\n\r\n  localStorage.removeItem(\"cartState\");\r\n  localStorage.setItem(\"cartState\", JSON.stringify(_cart));\r\n\r\n  return _cart;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}